import{_ as D,i as U,x as T,a as r,b as g,c as j,e as a,d as l,w as t,v as y,y as v,E as z,u as L,z as B,h as p,k as H,A as O,n as V}from"./index-273e1fb1.js";const A={class:"prediction-config"},I={class:"page-header"},Q={class:"header-actions"},Z={style:{"margin-left":"10px"}},G={style:{"margin-left":"10px"}},J={style:{"margin-left":"10px"}},K={style:{"margin-left":"10px"}},X={style:{"margin-left":"10px"}},Y={class:"performance-metrics"},$={class:"metric-card"},ee={class:"metric-value"},le={class:"metric-card"},te={class:"metric-value"},oe={class:"metric-card"},ae={class:"metric-value"},de={class:"metric-card"},ne={class:"metric-value"},ie={__name:"PredictionConfig",setup(se){const m=U({enabledModels:["lstm","prophet","ensemble"],predictionHorizon:"24h",predictionFrequency:"hourly",confidenceLevel:95}),s=U({timeSteps:24,lstmLayers:2,hiddenUnits:128,epochs:100,batchSize:32,learningRate:.001}),u=U({seasonalityMode:"additive",weeklySeasonality:!0,yearlySeasonality:!0,holidaysEffect:!0,changepointNumber:25,changepointRange:.8}),n=U({ensembleMethod:"weighted",lstmWeight:.6,prophetWeight:.4,monteCarlo:!0,simulations:1e3}),f=U({selectedFeatures:["temperature","traffic","electricity_price","hour","weekday"],normalization:!0,missingValueMethod:"interpolation",outlierDetection:!0,outlierMethod:"iqr"}),w=U({latestAccuracy:92.5,trainingTime:45,predictionTime:120,modelVersion:"v1.2.3"});T(()=>n.lstmWeight,S=>{n.prophetWeight=1-S}),T(()=>n.prophetWeight,S=>{n.lstmWeight=1-S});const N=()=>{z.success("配置保存成功")},E=()=>{Object.assign(m,{enabledModels:["lstm","prophet","ensemble"],predictionHorizon:"24h",predictionFrequency:"hourly",confidenceLevel:95}),Object.assign(s,{timeSteps:24,lstmLayers:2,hiddenUnits:128,epochs:100,batchSize:32,learningRate:.001}),Object.assign(u,{seasonalityMode:"additive",weeklySeasonality:!0,yearlySeasonality:!0,holidaysEffect:!0,changepointNumber:25,changepointRange:.8}),Object.assign(n,{ensembleMethod:"weighted",lstmWeight:.6,prophetWeight:.4,monteCarlo:!0,simulations:1e3}),z.success("配置已重置为默认值")},P=()=>{z.success("预测任务已开始运行")};return(S,e)=>{const F=r("el-icon"),W=r("el-button"),b=r("el-checkbox"),R=r("el-checkbox-group"),d=r("el-form-item"),i=r("el-option"),c=r("el-select"),M=r("el-slider"),k=r("el-form"),x=r("el-card"),_=r("el-input-number"),h=r("el-switch"),C=r("el-col"),q=r("el-row");return g(),j("div",A,[a("div",I,[e[29]||(e[29]=a("h2",null,"预测配置",-1)),a("div",Q,[l(W,{type:"primary",onClick:N},{default:t(()=>[l(F,null,{default:t(()=>[l(L(B))]),_:1}),e[26]||(e[26]=p(" 保存配置 ",-1))]),_:1}),l(W,{onClick:E},{default:t(()=>[l(F,null,{default:t(()=>[l(L(H))]),_:1}),e[27]||(e[27]=p(" 重置配置 ",-1))]),_:1}),l(W,{type:"success",onClick:P},{default:t(()=>[l(F,null,{default:t(()=>[l(L(O))]),_:1}),e[28]||(e[28]=p(" 运行预测 ",-1))]),_:1})])]),l(x,{class:"config-card"},{header:t(()=>[...e[30]||(e[30]=[a("div",{class:"card-header"},[a("span",null,"预测模型配置")],-1)])]),default:t(()=>[l(k,{model:m,"label-width":"120px"},{default:t(()=>[l(d,{label:"启用模型"},{default:t(()=>[l(R,{modelValue:m.enabledModels,"onUpdate:modelValue":e[0]||(e[0]=o=>m.enabledModels=o)},{default:t(()=>[l(b,{label:"lstm"},{default:t(()=>[...e[31]||(e[31]=[p("LSTM模型",-1)])]),_:1}),l(b,{label:"prophet"},{default:t(()=>[...e[32]||(e[32]=[p("Prophet模型",-1)])]),_:1}),l(b,{label:"ensemble"},{default:t(()=>[...e[33]||(e[33]=[p("集成模型",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"预测时间范围"},{default:t(()=>[l(c,{modelValue:m.predictionHorizon,"onUpdate:modelValue":e[1]||(e[1]=o=>m.predictionHorizon=o),placeholder:"请选择预测时间范围"},{default:t(()=>[l(i,{label:"24小时",value:"24h"}),l(i,{label:"7天",value:"7d"}),l(i,{label:"30天",value:"30d"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"预测频率"},{default:t(()=>[l(c,{modelValue:m.predictionFrequency,"onUpdate:modelValue":e[2]||(e[2]=o=>m.predictionFrequency=o),placeholder:"请选择预测频率"},{default:t(()=>[l(i,{label:"每小时",value:"hourly"}),l(i,{label:"每天",value:"daily"}),l(i,{label:"每周",value:"weekly"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"置信区间"},{default:t(()=>[l(M,{modelValue:m.confidenceLevel,"onUpdate:modelValue":e[3]||(e[3]=o=>m.confidenceLevel=o),min:80,max:99,step:1,"show-stops":"","show-input":""},null,8,["modelValue"]),a("span",Z,V(m.confidenceLevel)+"%",1)]),_:1})]),_:1},8,["model"])]),_:1}),m.enabledModels.includes("lstm")?(g(),y(x,{key:0,class:"config-card"},{header:t(()=>[...e[34]||(e[34]=[a("div",{class:"card-header"},[a("span",null,"LSTM模型配置")],-1)])]),default:t(()=>[l(k,{model:s,"label-width":"120px"},{default:t(()=>[l(d,{label:"时间步长"},{default:t(()=>[l(_,{modelValue:s.timeSteps,"onUpdate:modelValue":e[4]||(e[4]=o=>s.timeSteps=o),min:1,max:100},null,8,["modelValue"]),e[35]||(e[35]=a("span",{style:{"margin-left":"10px"}},"小时",-1))]),_:1}),l(d,{label:"LSTM层数"},{default:t(()=>[l(_,{modelValue:s.lstmLayers,"onUpdate:modelValue":e[5]||(e[5]=o=>s.lstmLayers=o),min:1,max:5},null,8,["modelValue"])]),_:1}),l(d,{label:"隐藏单元数"},{default:t(()=>[l(_,{modelValue:s.hiddenUnits,"onUpdate:modelValue":e[6]||(e[6]=o=>s.hiddenUnits=o),min:32,max:512},null,8,["modelValue"])]),_:1}),l(d,{label:"训练轮数"},{default:t(()=>[l(_,{modelValue:s.epochs,"onUpdate:modelValue":e[7]||(e[7]=o=>s.epochs=o),min:10,max:500},null,8,["modelValue"])]),_:1}),l(d,{label:"批次大小"},{default:t(()=>[l(_,{modelValue:s.batchSize,"onUpdate:modelValue":e[8]||(e[8]=o=>s.batchSize=o),min:16,max:256},null,8,["modelValue"])]),_:1}),l(d,{label:"学习率"},{default:t(()=>[l(M,{modelValue:s.learningRate,"onUpdate:modelValue":e[9]||(e[9]=o=>s.learningRate=o),min:1e-4,max:.01,step:1e-4,"format-tooltip":o=>o.toFixed(4)},null,8,["modelValue","format-tooltip"]),a("span",G,V(s.learningRate.toFixed(4)),1)]),_:1})]),_:1},8,["model"])]),_:1})):v("",!0),m.enabledModels.includes("prophet")?(g(),y(x,{key:1,class:"config-card"},{header:t(()=>[...e[36]||(e[36]=[a("div",{class:"card-header"},[a("span",null,"Prophet模型配置")],-1)])]),default:t(()=>[l(k,{model:u,"label-width":"120px"},{default:t(()=>[l(d,{label:"季节模式"},{default:t(()=>[l(c,{modelValue:u.seasonalityMode,"onUpdate:modelValue":e[10]||(e[10]=o=>u.seasonalityMode=o),placeholder:"请选择季节模式"},{default:t(()=>[l(i,{label:"加法",value:"additive"}),l(i,{label:"乘法",value:"multiplicative"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"周季节性"},{default:t(()=>[l(h,{modelValue:u.weeklySeasonality,"onUpdate:modelValue":e[11]||(e[11]=o=>u.weeklySeasonality=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"年季节性"},{default:t(()=>[l(h,{modelValue:u.yearlySeasonality,"onUpdate:modelValue":e[12]||(e[12]=o=>u.yearlySeasonality=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"节假日效应"},{default:t(()=>[l(h,{modelValue:u.holidaysEffect,"onUpdate:modelValue":e[13]||(e[13]=o=>u.holidaysEffect=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"变化点数量"},{default:t(()=>[l(_,{modelValue:u.changepointNumber,"onUpdate:modelValue":e[14]||(e[14]=o=>u.changepointNumber=o),min:5,max:50},null,8,["modelValue"])]),_:1}),l(d,{label:"变化点范围"},{default:t(()=>[l(M,{modelValue:u.changepointRange,"onUpdate:modelValue":e[15]||(e[15]=o=>u.changepointRange=o),min:.1,max:.9,step:.1,"format-tooltip":o=>(o*100).toFixed(0)+"%"},null,8,["modelValue","format-tooltip"]),a("span",J,V((u.changepointRange*100).toFixed(0))+"%",1)]),_:1})]),_:1},8,["model"])]),_:1})):v("",!0),m.enabledModels.includes("ensemble")?(g(),y(x,{key:2,class:"config-card"},{header:t(()=>[...e[37]||(e[37]=[a("div",{class:"card-header"},[a("span",null,"集成模型配置")],-1)])]),default:t(()=>[l(k,{model:n,"label-width":"120px"},{default:t(()=>[l(d,{label:"集成方法"},{default:t(()=>[l(c,{modelValue:n.ensembleMethod,"onUpdate:modelValue":e[16]||(e[16]=o=>n.ensembleMethod=o),placeholder:"请选择集成方法"},{default:t(()=>[l(i,{label:"加权平均",value:"weighted"}),l(i,{label:"简单平均",value:"average"}),l(i,{label:"堆叠回归",value:"stacking"})]),_:1},8,["modelValue"])]),_:1}),n.ensembleMethod==="weighted"?(g(),y(d,{key:0,label:"LSTM权重"},{default:t(()=>[l(M,{modelValue:n.lstmWeight,"onUpdate:modelValue":e[17]||(e[17]=o=>n.lstmWeight=o),min:0,max:1,step:.1,"format-tooltip":o=>(o*100).toFixed(0)+"%"},null,8,["modelValue","format-tooltip"]),a("span",K,V((n.lstmWeight*100).toFixed(0))+"%",1)]),_:1})):v("",!0),n.ensembleMethod==="weighted"?(g(),y(d,{key:1,label:"Prophet权重"},{default:t(()=>[l(M,{modelValue:n.prophetWeight,"onUpdate:modelValue":e[18]||(e[18]=o=>n.prophetWeight=o),min:0,max:1,step:.1,"format-tooltip":o=>(o*100).toFixed(0)+"%"},null,8,["modelValue","format-tooltip"]),a("span",X,V((n.prophetWeight*100).toFixed(0))+"%",1)]),_:1})):v("",!0),l(d,{label:"蒙特卡洛模拟"},{default:t(()=>[l(h,{modelValue:n.monteCarlo,"onUpdate:modelValue":e[19]||(e[19]=o=>n.monteCarlo=o)},null,8,["modelValue"])]),_:1}),n.monteCarlo?(g(),y(d,{key:2,label:"模拟次数"},{default:t(()=>[l(_,{modelValue:n.simulations,"onUpdate:modelValue":e[20]||(e[20]=o=>n.simulations=o),min:100,max:1e4},null,8,["modelValue"])]),_:1})):v("",!0)]),_:1},8,["model"])]),_:1})):v("",!0),l(x,{class:"config-card"},{header:t(()=>[...e[38]||(e[38]=[a("div",{class:"card-header"},[a("span",null,"特征工程配置")],-1)])]),default:t(()=>[l(k,{model:f,"label-width":"120px"},{default:t(()=>[l(d,{label:"特征选择"},{default:t(()=>[l(R,{modelValue:f.selectedFeatures,"onUpdate:modelValue":e[21]||(e[21]=o=>f.selectedFeatures=o)},{default:t(()=>[l(b,{label:"temperature"},{default:t(()=>[...e[39]||(e[39]=[p("温度",-1)])]),_:1}),l(b,{label:"humidity"},{default:t(()=>[...e[40]||(e[40]=[p("湿度",-1)])]),_:1}),l(b,{label:"traffic"},{default:t(()=>[...e[41]||(e[41]=[p("车流量",-1)])]),_:1}),l(b,{label:"electricity_price"},{default:t(()=>[...e[42]||(e[42]=[p("电价",-1)])]),_:1}),l(b,{label:"holiday"},{default:t(()=>[...e[43]||(e[43]=[p("节假日",-1)])]),_:1}),l(b,{label:"weekday"},{default:t(()=>[...e[44]||(e[44]=[p("星期几",-1)])]),_:1}),l(b,{label:"hour"},{default:t(()=>[...e[45]||(e[45]=[p("小时",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"数据标准化"},{default:t(()=>[l(h,{modelValue:f.normalization,"onUpdate:modelValue":e[22]||(e[22]=o=>f.normalization=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"缺失值处理"},{default:t(()=>[l(c,{modelValue:f.missingValueMethod,"onUpdate:modelValue":e[23]||(e[23]=o=>f.missingValueMethod=o),placeholder:"请选择缺失值处理方法"},{default:t(()=>[l(i,{label:"删除",value:"drop"}),l(i,{label:"均值填充",value:"mean"}),l(i,{label:"中位数填充",value:"median"}),l(i,{label:"插值",value:"interpolation"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"异常值检测"},{default:t(()=>[l(h,{modelValue:f.outlierDetection,"onUpdate:modelValue":e[24]||(e[24]=o=>f.outlierDetection=o)},null,8,["modelValue"])]),_:1}),f.outlierDetection?(g(),y(d,{key:0,label:"检测方法"},{default:t(()=>[l(c,{modelValue:f.outlierMethod,"onUpdate:modelValue":e[25]||(e[25]=o=>f.outlierMethod=o),placeholder:"请选择异常值检测方法"},{default:t(()=>[l(i,{label:"IQR",value:"iqr"}),l(i,{label:"Z-Score",value:"zscore"}),l(i,{label:"Isolation Forest",value:"isolation"})]),_:1},8,["modelValue"])]),_:1})):v("",!0)]),_:1},8,["model"])]),_:1}),l(x,{class:"config-card"},{header:t(()=>[...e[46]||(e[46]=[a("div",{class:"card-header"},[a("span",null,"性能监控")],-1)])]),default:t(()=>[a("div",Y,[l(q,{gutter:20},{default:t(()=>[l(C,{span:6},{default:t(()=>[a("div",$,[a("div",ee,V(w.latestAccuracy)+"%",1),e[47]||(e[47]=a("div",{class:"metric-label"},"最新准确率",-1))])]),_:1}),l(C,{span:6},{default:t(()=>[a("div",le,[a("div",te,V(w.trainingTime)+"s",1),e[48]||(e[48]=a("div",{class:"metric-label"},"训练时间",-1))])]),_:1}),l(C,{span:6},{default:t(()=>[a("div",oe,[a("div",ae,V(w.predictionTime)+"ms",1),e[49]||(e[49]=a("div",{class:"metric-label"},"预测时间",-1))])]),_:1}),l(C,{span:6},{default:t(()=>[a("div",de,[a("div",ne,V(w.modelVersion),1),e[50]||(e[50]=a("div",{class:"metric-label"},"模型版本",-1))])]),_:1})]),_:1})])]),_:1})])}}},me=D(ie,[["__scopeId","data-v-cf5fcf10"]]);export{me as default};
